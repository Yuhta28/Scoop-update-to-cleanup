# プロジェクト構造

## ルートディレクトリ
```
scoop-update-to-cleanup/
├── scoop-update-to-cleanup.go    # メインアプリケーションエントリーポイント
├── go.mod                        # Goモジュール定義
├── go.sum                        # 依存関係チェックサム
├── README.md                     # プロジェクトドキュメント
├── LICENSE                       # ライセンスファイル
├── .gitignore                    # Git無視ルール
├── rsrc_windows_386.syso         # Windowsリソース（32ビット）
├── rsrc_windows_amd64.syso       # Windowsリソース（64ビット）
└── winres/                       # Windowsリソース設定
    ├── icon16.png                # アプリケーションアイコン
    └── winres.json               # リソースマニフェスト
```

## コード構成

### メインアプリケーション
- **単一ファイルアーキテクチャ** - すべてのロジックが`scoop-update-to-cleanup.go`に含まれる
- **関数型アプローチ** - 特定のタスク用のシンプルな関数
- **パッケージなし** - 分かりやすいmainパッケージ構造

### 主要関数
- `main()` - エントリーポイント、更新とクリーンアッププロセスを統制
- `readPipe()` - コマンド出力ストリーミングとプログレス更新を処理

## Windowsリソース
- **winres/** ディレクトリにすべてのWindows固有リソースが含まれる
- **生成された.sysoファイル** はgo-winresによって作成され、手動編集すべきではない
- **アイコンとマニフェスト** 設定はwinres.jsonに記載

## 規約
- ユーザー向けメッセージには日本語文字列を使用
- 説明的な日本語メッセージでエラーハンドリング
- 長時間実行される操作中のプログレス表示
- 適切なパイプハンドリングによる優雅なコマンド実行
- プログラム終了前のユーザー確認